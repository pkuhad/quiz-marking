#strategy
Add Storage Fields = positive_add , negative_less [ONLY FOR MULTIPLE AND TRUE/FALSE QUESTIONS] in quiz_marking
Add 'marks' Fields to quiz_node_results

Add Menu Item = "Quiz View Rankwise Scores"
Show quiz list with an "Update Scores" link
action => A question will be selected
		



Update Quiz Scores operation :

	select distinct result_nid from quiz_node_results_answers where nid = determine_from(quiz name ) 
	
	for each result_nid
	{
		select question_nid,question_vid,is_correct,is_skip from quiz_node_results_answers where result_nid = loopcounter(result_nid)

		$mark = 0;		
		for each question in increment order
		{
			if is_correct
			{
				$mark+=extract from quiz_marking (positive_add for this question_nid provided that type must be multiple or true/false);
			}
			else if not is_skipped
			{
				$mark-=extract from quiz_marking (negative_less for this question_nid provided that type must be multiple or true/false);
			}
				
		}
		
		update quiz_node_results set marks=$marks where result_nid = loopcounter(result_nid);
	}
			
View Quiz Score Operation
	select in decreasing marks order 
			
		
			
		$result = db_query('SELECT DISTINCT quiz_node_results.nid as nid,title FROM {quiz_node_results},{node} WHERE {node}.nid = {quiz_node_results}.nid');
	
	$count = 0;
	$output = "<table>";
	$output .= "<tr> <th> Quiz </th> <th>Action</th>";
	while( $array = db_fetch_array($result) ) {
		$count++;
		
		if($count % 2 == 0) {
			$output .= "<tr class='even'>";
		}
		else {
			$output .= "<tr class='odd'>";
		}
			$output .= "<td>".$array['title']."</td><td>".l('View','admin/quiz/@nid/view_marks',array('@nid' => $array['nid']))."</td>"
			$output .= "</tr>";
	}
	
	$output .= "</table>";
	
	return $output;

